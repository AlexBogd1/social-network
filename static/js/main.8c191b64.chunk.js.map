{"version":3,"sources":["images/images.png","redux/dialogs-reducer.tsx","components/common/Paginator/Paginator.module.css","components/Users/Users.module.css","images/spinner-icon-gif-28.jpg","api/api.ts","components/NavBar/NavBar.module.css","serviceWorker.ts","components/NavBar/NavBar.tsx","utils/validators/object-helpers.ts","redux/users-reducer.tsx","components/common/Paginator/Paginator.tsx","components/Users/User.tsx","components/Users/Users.tsx","redux/user-selectors.ts","components/Users/UsersContainer.tsx","components/Header/Header.tsx","redux/auth-reducer.tsx","components/Header/HeaderContainer.tsx","components/Login/Login.tsx","redux/app-reducer.ts","App.tsx","redux/redux-store.tsx","index.tsx","utils/formControls/FormsControls.module.css","components/common/Preloader.tsx","utils/formControls/FormsControls.tsx","utils/validators/validators.tsx","components/Header/Header.module.css","hoc/withAuthRedirect.tsx","redux/profile-reducer.tsx"],"names":["module","exports","sendMessageCreator","message","type","initialState","dialogs","id","name","messages","dialogsReducer","state","action","body","instance","axios","create","baseURL","withCredentials","headers","usersAPI","getUsers","currentPage","pageSize","get","then","response","data","setUser","userId","unFollow","delete","follow","post","getProfile","console","warn","profileAPI","getStatus","updateStatus","newStatus","put","status","savePhoto","photoFile","formData","FormData","append","saveProfile","profile","authAPI","auth","login","email","password","rememberMe","logout","Boolean","window","location","hostname","match","NavBar","className","style","nav","item","to","activeClassName","active","updateObjectInArray","items","itemId","objPropName","newObjProps","map","u","users","totalUsersCount","isFetching","followingInProgress","unfollow","toggleIsFetching","toggleIsFollowingInProgress","usersReducer","followed","pageNumber","filter","Paginator","onPageChanged","portionSize","pagesCount","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","onClick","p","key","styles","selectedPage","e","User","props","alt","usersPhoto","src","photos","small","userPhoto","disabled","some","Users","store","usersPage","getIsFetching","getPageSize","createSelector","getTotalUsersCount","getCurrentPage","getFollowingInProgress","UsersContainerComponent","setCurrentPage","this","Preloader","followUser","unFollowUser","React","Component","compose","withAuthRedirect","connect","dispatch","a","resultCode","totalCount","Header","header","loginBlock","isAuth","SET_USER_DATA","setAuthUserData","setAuthenticationUserData","responce","authReducer","HeaderContainer","maxLengthLoginInput","maxLengthValidator","LoginReduxForm","reduxForm","form","onSubmit","handleSubmit","Field","placeholder","validate","required","component","FormFieldInput","error","formSummaryError","res","length","stopSubmit","_error","initialized","appReducer","DialogsContainer","lazy","ProfileContainer","App","initializeApp","path","render","fallback","UsersContainer","app","promise","Promise","all","withRouter","reducers","combineReducers","profilePage","profileReducer","dialogPage","formReducer","createStore","applyMiddleware","thunkMiddleware","rerenderEntireTree","ReactDOM","StrictMode","basename","process","document","getElementById","subscribe","navigator","serviceWorker","ready","registration","unregister","catch","preLoader","FormFieldTextarea","input","meta","restProps","formControl","touched","value","undefined","max","mapStateToPropsForRedirect","WrappedComponent","RedirectComponent","withArrowFuncAuthRedirect","addPostActionCreator","setMyUserProfile","userID","userProfile","setStatus","getState","photo","posts","likesCount","newPost"],"mappings":"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","file":"static/js/main.8c191b64.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,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\"","\r\n\r\nimport {AddPostActionType, UpdateNewPostActionType} from \"./profile-reducer\";\r\nimport {MessageType} from \"../components/Dialogs/Message/Message\";\r\nimport {DialogItemType} from \"../components/Dialogs/DialogItem/DialodsItem\";\r\n\r\n\r\nexport type DialogsPageType = {\r\n    messages: Array<MessageType>\r\n    dialogs: Array<DialogItemType>\r\n}\r\n\r\nexport type SendMessageActionType = {\r\n    type: 'SEND_MESSAGE'\r\n    message: string\r\n}\r\n\r\n\r\nconst SEND_MESSAGE = 'SEND_MESSAGE';\r\n\r\nexport const sendMessageCreator = (message: string): SendMessageActionType => {\r\n    return {\r\n        type: SEND_MESSAGE,\r\n        message\r\n    }\r\n}\r\n\r\n\r\nlet initialState: DialogsPageType = {\r\n    dialogs: [\r\n        {id: 1, name: 'Dimych'},\r\n        {id: 2, name: 'Andrey'},\r\n        {id: 3, name: 'Sveta'},\r\n        {id: 4, name: 'Victor'},\r\n        {id: 5, name: 'Alex'},\r\n        {id: 6, name: 'Valera'},\r\n    ],\r\n    messages: [\r\n        {id: 1, message: 'Hi'},\r\n        {id: 2, message: 'How is your it-kamasutra?'},\r\n        {id: 3, message: 'Yo'},\r\n        {id: 4, message: 'Yo'},\r\n        {id: 5, message: 'Yo'},\r\n    ],\r\n\r\n}\r\n\r\nconst dialogsReducer =\r\n    (state = initialState,\r\n     action: AddPostActionType | UpdateNewPostActionType | SendMessageActionType): DialogsPageType => {\r\n\r\n        switch (action.type) {\r\n\r\n            case SEND_MESSAGE:\r\n                let body = action.message;\r\n                return {\r\n                    ...state,\r\n                    messages: [...state.messages,{id: 6, message: body} ]\r\n                }\r\n\r\n            default:\r\n                return state\r\n        }\r\n    }\r\n\r\nexport default dialogsReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"selectedPage\":\"Paginator_selectedPage__ld_fV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"usersPhoto\":\"Users_usersPhoto__2WQ-T\"};","module.exports = __webpack_public_path__ + \"static/media/spinner-icon-gif-28.7ba725da.jpg\";","import axios from \"axios\";\r\nimport { UserProfileType } from \"../components/Profile/ProfileContainer\";\r\nimport { saveProfile } from \"../redux/profile-reducer\";\r\n\r\n\r\nconst instance = axios.create({\r\n    baseURL: \"https://social-network.samuraijs.com/api/1.0/\",\r\n    withCredentials: true,\r\n    headers: {\"API-KEY\": 'd77a6d97-4f2e-437e-9116-ca68d9731287'},\r\n})\r\n\r\nexport const usersAPI = {\r\n    getUsers(currentPage: number = 1, pageSize: number = 5) {\r\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n            .then(response => response.data);\r\n    },\r\n\r\n    setUser(userId: string) {\r\n        return instance.get('profile/' + userId).then(response => response.data);\r\n    },\r\n\r\n    unFollow(id: string) {\r\n        return instance.delete(`follow/${id}`)\r\n            .then(response => response.data);\r\n    },\r\n\r\n    follow(id: string) {\r\n        return instance.post(`follow/${id}`).then(response => response.data);\r\n    },\r\n\r\n    getProfile(userId: string) {\r\n        console.warn('Obsolete method. Please use profileAPI object')\r\n        return profileAPI.getProfile(userId);\r\n    },\r\n\r\n\r\n\r\n}\r\n\r\nexport const profileAPI = {\r\n    getProfile(userId: string) {\r\n        return instance.get('profile/' + userId);\r\n    },\r\n    getStatus(userId: string){\r\n        return instance.get('profile/status/'+ userId);\r\n    },\r\n    updateStatus(newStatus: string){\r\n        return instance.put('profile/status',{status: newStatus});\r\n    },\r\n\r\n    savePhoto(photoFile: File) {\r\n        const formData = new FormData();\r\n        formData.append('image',photoFile)\r\n        return instance.put('/profile/photo', formData, {\r\n            headers: {\r\n                'Content-Type': 'multipart/form-data'\r\n            }\r\n        })\r\n    },\r\n\r\n    saveProfile(profile: UserProfileType) {\r\n        return instance.put('profile', profile)\r\n    }\r\n\r\n}\r\n\r\nexport const authAPI = {\r\n    auth() {\r\n        return instance.get(`auth/me`).then(response => response.data);\r\n    },\r\n\r\n    login(email: string, password: string, rememberMe: boolean ){\r\n        return instance.post('auth/login',{email, password, rememberMe});\r\n    },\r\n\r\n    logout(){\r\n        return instance.delete(`auth/login`);\r\n    }\r\n}\r\n\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"NavBar_nav__19O-x\",\"item\":\"NavBar_item__2Il54\",\"active\":\"NavBar_active__3I1M9\"};","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\ntype Config = {\r\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\r\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\r\n};\r\n\r\nexport function register(config?: Config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(\r\n      process.env.PUBLIC_URL,\r\n      window.location.href\r\n    );\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl: string, config?: Config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Post is cached for offline use.\" message.\r\n              console.log('Post is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' }\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport style from './NavBar.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst NavBar = () => {\r\n    return (\r\n        <nav className={style.nav}>\r\n            <div className={style.item}>\r\n                <NavLink to='/profile' activeClassName = {style.active}>Profile</NavLink>\r\n            </div>\r\n            <div className={style.item}>\r\n                <NavLink to='/dialogs' activeClassName = {style.active}>Messages</NavLink>\r\n            </div>\r\n            <div className={style.item}>\r\n                <NavLink to='/news' activeClassName = {style.active}>News</NavLink>\r\n            </div>\r\n            <div className={style.item}>\r\n                <NavLink to='/users' activeClassName = {style.active}>Users</NavLink>\r\n            </div>\r\n            <div className={style.item}>\r\n                <NavLink to='/music' activeClassName = {style.active}>Music</NavLink>\r\n            </div>\r\n            <div className={style.item}>\r\n                <NavLink to='/settings' activeClassName = {style.active}>Settings</NavLink>\r\n            </div>\r\n        </nav>\r\n\r\n    )\r\n}\r\n\r\nexport default NavBar;","import { UsersFromApiType } from \"../../components/Users/Users\";\r\n\r\nexport const updateObjectInArray = (items: Array<UsersFromApiType>, \r\n    itemId: string, objPropName: 'name'| 'id' | 'photos' | 'followed',\r\n    newObjProps: any ) : Array<UsersFromApiType> => {\r\n          return  items.map(u => {\r\n                if(u[objPropName] === itemId){\r\n                    return {...u, ...newObjProps}\r\n                }\r\n                return u;\r\n            })\r\n}","import { UsersFromApiType } from \"../components/Users/Users\";\r\nimport { usersAPI } from \"../api/api\";\r\nimport { updateObjectInArray } from \"../utils/validators/object-helpers\";\r\n\r\nconst FOLLOW = 'FOLLOW';\r\nconst UNFOLLOW = \"UNFOLLOW\";\r\nconst SET_USERS = \"SET_USERS\";\r\nconst SET_CURRENT_PAGE = \"SET_CURRENT_PAGE\";\r\nconst SET_TOTAL_COUNT = \"SET_TOTAL_COUNT\";\r\nconst TOGGLE_IS_FETCHING = \"TOGGLE_IS_FETCHING\";\r\nconst TOGGLE_IS_FOLLOWING_IN_PROGRESS = \"TOGGLE_IS_FOLLOWING_IN_PROGRESS\";\r\n\r\nexport type FollowActionType = {\r\n    type: typeof FOLLOW\r\n    userId: string\r\n}\r\nexport type UnfollowActionType = {\r\n    type: typeof UNFOLLOW\r\n    userId: string\r\n}\r\nexport type SetUsersActionType = {\r\n    type: typeof SET_USERS\r\n    users: Array<UsersFromApiType>\r\n}\r\nexport type SetCurrentPageActionType = {\r\n    type: typeof SET_CURRENT_PAGE\r\n    pageNumber: number\r\n}\r\nexport type SetTotalCountActionType = {\r\n    type: typeof SET_TOTAL_COUNT\r\n    totalUsersCount: number\r\n}\r\nexport type ToggleIsFetchingActionType = {\r\n    type: typeof TOGGLE_IS_FETCHING\r\n    isFetching: boolean\r\n}\r\nexport type ToggleIsFollowingInProgressActionType = {\r\n    type: typeof TOGGLE_IS_FOLLOWING_IN_PROGRESS\r\n    isFetching: boolean\r\n    userId: string\r\n}\r\n\r\n\r\ntype ActionsType = FollowActionType\r\n    | UnfollowActionType\r\n    | SetUsersActionType\r\n    | SetCurrentPageActionType\r\n    | SetTotalCountActionType\r\n    | ToggleIsFetchingActionType\r\n    | ToggleIsFollowingInProgressActionType\r\n\r\nexport type UsersPageType = {\r\n    users: Array<UsersFromApiType>\r\n    pageSize: number\r\n    totalUsersCount: number\r\n    currentPage: number\r\n    isFetching: boolean\r\n    followingInProgress: string[]\r\n}\r\n\r\nlet initialState: UsersPageType = {\r\n    users: [],\r\n    pageSize: 10,\r\n    totalUsersCount: 0,\r\n    currentPage: 1,\r\n    isFetching: true,\r\n    followingInProgress: []\r\n}\r\n\r\nconst usersReducer =\r\n    (state = initialState, action: ActionsType): UsersPageType => {\r\n        switch (action.type) {\r\n            case FOLLOW:\r\n                return {\r\n                    ...state,\r\n                    users: updateObjectInArray(state.users, action.userId, 'id', {followed: true})\r\n                    \r\n                    // state.users.map(u => {\r\n                    //     if (u.id === action.userId) {\r\n                    //         return { ...u, followed: true }\r\n                    //     }\r\n                    //     return u;\r\n                    // })\r\n                }\r\n\r\n            case UNFOLLOW:\r\n                return {\r\n                    ...state,\r\n                    users: updateObjectInArray(state.users, action.userId, 'id', {followed: false})\r\n                    \r\n                    // state.users.map(u => {\r\n                    //     debugger\r\n                    //     if (u.id === action.userId) {\r\n                    //         return { ...u, followed: false }\r\n                    //     }\r\n                    //     return u;\r\n                    // })\r\n                }\r\n\r\n            case SET_USERS:\r\n                return { ...state, users: [...action.users] }\r\n\r\n            case SET_CURRENT_PAGE:\r\n                return {\r\n                    ...state,\r\n                    currentPage: action.pageNumber\r\n                } \r\n\r\n            case SET_TOTAL_COUNT:\r\n                return {\r\n                    ...state,\r\n                    totalUsersCount: action.totalUsersCount\r\n                }\r\n\r\n            case TOGGLE_IS_FETCHING:\r\n                return { ...state, isFetching: action.isFetching }\r\n\r\n            case TOGGLE_IS_FOLLOWING_IN_PROGRESS:\r\n                return {\r\n                    ...state,\r\n                    followingInProgress:\r\n                        action.isFetching ? [...state.followingInProgress, action.userId]\r\n                            : state.followingInProgress.filter(id => id !== action.userId)\r\n                }\r\n            default:\r\n                return state\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\nexport const follow = (userId: string): FollowActionType => {\r\n    return {\r\n        type: FOLLOW,\r\n        userId\r\n    }\r\n}\r\nexport const unfollow = (userId: string): UnfollowActionType => {\r\n    return {\r\n        type: UNFOLLOW,\r\n        userId\r\n    }\r\n}\r\nexport const setUsers = (users: Array<UsersFromApiType>): SetUsersActionType => {\r\n    return {\r\n        type: SET_USERS,\r\n        users\r\n    }\r\n}\r\nexport const setCurrentPage = (pageNumber: number): SetCurrentPageActionType => {\r\n    return {\r\n        type: SET_CURRENT_PAGE,\r\n        pageNumber\r\n    }\r\n}\r\nexport const setTotalUsersCount = (totalUsersCount: number): SetTotalCountActionType => {\r\n    return {\r\n        type: SET_TOTAL_COUNT,\r\n        totalUsersCount\r\n    }\r\n}\r\nexport const toggleIsFetching = (isFetching: boolean): ToggleIsFetchingActionType => {\r\n    return {\r\n        type: TOGGLE_IS_FETCHING,\r\n        isFetching\r\n    }\r\n}\r\nexport const toggleIsFollowingInProgress = (isFetching: boolean, userId: string): ToggleIsFollowingInProgressActionType => {\r\n    return {\r\n        type: TOGGLE_IS_FOLLOWING_IN_PROGRESS,\r\n        isFetching,\r\n        userId\r\n    }\r\n}\r\n\r\nexport const requestUsers = (currentPage: number, pageSize: number) => async (dispatch: (action: ActionsType) => void) => {\r\n    dispatch(toggleIsFetching(true));\r\n    let data = await usersAPI.getUsers(currentPage, pageSize)\r\n    dispatch(toggleIsFetching(false));\r\n    dispatch(setUsers(data.items));\r\n    dispatch(setTotalUsersCount(data.totalCount));\r\n}\r\n\r\nexport const followUser = (userId: string) => async (dispatch: (action: ActionsType) => void) => {\r\n    dispatch(toggleIsFollowingInProgress(true, userId));\r\n    let data = await usersAPI.follow(userId)\r\n    if (data.resultCode === 0) {\r\n        dispatch(follow(userId))\r\n    }\r\n    dispatch(toggleIsFollowingInProgress(false, userId))\r\n}\r\nexport const unFollowUser = (userId: string) => async (dispatch: (action: ActionsType) => void) => {\r\n    dispatch(toggleIsFollowingInProgress(true, userId));\r\n\r\n   let data = await usersAPI.unFollow(userId)\r\n        if (data.resultCode === 0) {\r\n            dispatch(unfollow(userId))\r\n        }\r\n        dispatch(toggleIsFollowingInProgress(false, userId))\r\n\r\n}\r\n\r\n\r\nexport default usersReducer;","import React from 'react';\r\nimport styles from './Paginator.module.css'\r\nimport {useState} from 'react'\r\nexport type PaginatorType = {\r\n    totalUsersCount: number\r\n    pageSize: number\r\n    currentPage: number\r\n    portionSize?: number\r\n    onPageChanged: (page: number) => void\r\n}\r\n\r\nconst Paginator: React.FC<PaginatorType> = ({totalUsersCount, pageSize, currentPage,onPageChanged, portionSize=10 }) => {\r\n    \r\n    let pagesCount = Math.ceil(totalUsersCount / pageSize);\r\n    let pages = [];\r\n\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i);\r\n    }\r\n\r\n    let portionCount = Math.ceil(pagesCount/portionSize);\r\n    let [portionNumber,setPortionNumber] = useState(1);\r\n    let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\r\n    let rightPortionPageNumber = portionNumber * portionSize;\r\n\r\n    return <div> {portionNumber > 1 &&\r\n        <button onClick = {() => {setPortionNumber(portionNumber - 1)}}>PREV</button> }\r\n            {pages\r\n                .filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\r\n                .map( p =>\r\n                <span\r\n                    key={p}\r\n                    className={currentPage === p ? styles.selectedPage : ''}\r\n                    onClick = {(e) => {  onPageChanged(p); }}\r\n                >\r\n                    {p}\r\n                </span>)}\r\n                \r\n                {portionCount > portionNumber &&\r\n        <button onClick = {() => {\r\n            debugger\r\n            setPortionNumber(portionNumber + 1)\r\n            }}>NEXT</button> }\r\n        </div>\r\n}\r\n\r\nexport default Paginator;\r\n","import React from 'react';\r\nimport styles from './Users.module.css'\r\nimport userPhoto from '../../images/images.png'\r\nimport {NavLink} from 'react-router-dom';\r\nimport {UsersFromApiType} from './UsersContainer'\r\n\r\n\r\n\r\ntype UserComponentType = UsersFromApiType & {followingInProgress: string[], follow: (userId: string) => void, unFollow: (userId: string) => void}\r\n\r\nconst User = (props:UserComponentType )=> {\r\n    \r\n    return (\r\n        \r\n       <div key={props.id}>\r\n                    <span>\r\n                        <NavLink to = {'/profile/' + props.id}>\r\n                        <div>\r\n                            <img alt ={'users'} className={styles.usersPhoto} src={props.photos.small ? props.photos.small : userPhoto}/>\r\n                        </div>\r\n                    </NavLink>\r\n\r\n                        <div>\r\n                            {props.followed\r\n                                ? <button disabled={props.followingInProgress.some(id => id === props.id)} onClick={() =>{\r\n                                   props.unFollow(props.id);\r\n                                }\r\n                                }>Unfollow</button>\r\n                                : <button disabled={props.followingInProgress.some(id => id === props.id)} onClick={() => {\r\n                                    props.follow(props.id)\r\n                                }}>Follow</button>}\r\n\r\n                        </div>\r\n                    </span>\r\n                <span>\r\n                        <span>\r\n                            <div>{props.name}</div>\r\n                            <div>{props.name}</div>\r\n                        </span>\r\n                        <span>\r\n                            <div>{'Mos'}</div>\r\n                            <div>{'Mins'}</div>\r\n                        </span>\r\n                    </span>\r\n            </div>)\r\n    \r\n}\r\n\r\nexport default User;\r\n\r\n// [ {\r\n//     id: 1,\r\n//     photoUrl: 'https://daks2k3a4ib2z.cloudfront.net/56cf5dcdd3b4fc4579d08bef/56cf5dced3b4fc4579d08bf8_BomberMario-icon-300x300.jpg',\r\n//     fallowed: true,\r\n//     fullName: 'Dmitry',\r\n//     status: 'I am a boss',\r\n//     location: {city: 'Minsk', country: 'Belarus'}\r\n// },\r\n//     {\r\n//         id: 2,\r\n//         photoUrl: 'https://daks2k3a4ib2z.cloudfront.net/56cf5dcdd3b4fc4579d08bef/56cf5dced3b4fc4579d08bf8_BomberMario-icon-300x300.jpg',\r\n//         fallowed: false,\r\n//         fullName: 'Alex',\r\n//         status: 'I am a boss',\r\n//         location: {city: 'Moscow', country: 'Russia'}\r\n//     },\r\n//     {\r\n//         id: 3,\r\n//         photoUrl: 'https://daks2k3a4ib2z.cloudfront.net/56cf5dcdd3b4fc4579d08bef/56cf5dced3b4fc4579d08bf8_BomberMario-icon-300x300.jpg',\r\n//         fallowed: true,\r\n//         fullName: 'Andrew',\r\n//         status: 'I am a boss',\r\n//         location: {city: 'Kiev', country: 'Ukraine'}\r\n//     },]","import React from 'react';\r\nimport styles from './Users.module.css'\r\nimport userPhoto from '../../images/images.png'\r\nimport {NavLink} from 'react-router-dom';\r\nimport Paginator from '../common/Paginator/Paginator'\r\nimport User from './User'\r\n\r\n\r\ntype UsersForPageType = {\r\n    users: Array<UsersFromApiType>\r\n    totalUsersCount: number\r\n    pageSize: number\r\n    currentPage: number\r\n    followingInProgress: string[]\r\n    onPageChanged:(page: number) => void\r\n    follow: (userId: string) => void\r\n    unFollow: (userId: string) => void\r\n}\r\n\r\ntype UsersPhotoApiType = {\r\n    small: string\r\n    large: string\r\n}\r\n\r\nexport type UsersFromApiType = {\r\n    name: string\r\n    id: string\r\n    photos: UsersPhotoApiType\r\n    followed: boolean\r\n}\r\n\r\nconst Users = (props: UsersForPageType) => {\r\n    \r\n    return (<div>\r\n        \r\n        <Paginator currentPage={props.currentPage} pageSize={props.pageSize} totalUsersCount={props.totalUsersCount} onPageChanged={props.onPageChanged} />\r\n        {\r\n            props.users.map(u => <User key={u.id} name={u.name} id={u.id} photos={u.photos} followed={u.followed} follow={props.follow} unFollow={props.unFollow} followingInProgress={props.followingInProgress} />)\r\n        }\r\n    </div>)\r\n\r\n}\r\n\r\nexport default Users;\r\n\r\n// [ {\r\n//     id: 1,\r\n//     photoUrl: 'https://daks2k3a4ib2z.cloudfront.net/56cf5dcdd3b4fc4579d08bef/56cf5dced3b4fc4579d08bf8_BomberMario-icon-300x300.jpg',\r\n//     fallowed: true,\r\n//     fullName: 'Dmitry',\r\n//     status: 'I am a boss',\r\n//     location: {city: 'Minsk', country: 'Belarus'}\r\n// },\r\n//     {\r\n//         id: 2,\r\n//         photoUrl: 'https://daks2k3a4ib2z.cloudfront.net/56cf5dcdd3b4fc4579d08bef/56cf5dced3b4fc4579d08bf8_BomberMario-icon-300x300.jpg',\r\n//         fallowed: false,\r\n//         fullName: 'Alex',\r\n//         status: 'I am a boss',\r\n//         location: {city: 'Moscow', country: 'Russia'}\r\n//     },\r\n//     {\r\n//         id: 3,\r\n//         photoUrl: 'https://daks2k3a4ib2z.cloudfront.net/56cf5dcdd3b4fc4579d08bef/56cf5dced3b4fc4579d08bf8_BomberMario-icon-300x300.jpg',\r\n//         fallowed: true,\r\n//         fullName: 'Andrew',\r\n//         status: 'I am a boss',\r\n//         location: {city: 'Kiev', country: 'Ukraine'}\r\n//     },]","import {ReduxStoreType} from \"./redux-store\";\r\nimport {UsersFromApiType} from \"../components/Users/Users\";\r\nimport {createSelector} from \"reselect\";\r\n\r\nexport const getUsers = (store: ReduxStoreType): Array<UsersFromApiType> => {\r\n    return store.usersPage.users\r\n}\r\n\r\n// export const getUsersSelector = (store: ReduxStoreType): Array<UsersFromApiType> => {\r\n//     return getUsers(store).filter(u => true);\r\n// }\r\n\r\nexport const getIsFetching = (store: ReduxStoreType): boolean => {\r\n    return store.usersPage.isFetching\r\n}\r\n\r\nexport const getUsersSuperSelector = createSelector(getUsers,getIsFetching,(users,isFetching) => {\r\n     return  users.filter(u => true);\r\n});\r\n\r\nexport const getPageSize = (store: ReduxStoreType): number => {\r\n    return store.usersPage.pageSize\r\n}\r\n\r\nexport const getTotalUsersCount = (store: ReduxStoreType): number => {\r\n    return store.usersPage.totalUsersCount\r\n}\r\nexport const getCurrentPage = (store: ReduxStoreType): number => {\r\n    return store.usersPage.currentPage\r\n}\r\n\r\nexport const getFollowingInProgress = (store: ReduxStoreType): string[] => {\r\n    return store.usersPage.followingInProgress\r\n}\r\n","import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport {ReduxStoreType} from \"../../redux/redux-store\";\r\nimport {\r\n    followUser,\r\n    requestUsers,\r\n    setCurrentPage,\r\n    toggleIsFollowingInProgress,\r\n    unFollowUser\r\n} from \"../../redux/users-reducer\";\r\nimport Users from \"./Users\";\r\nimport Preloader from '../common/Preloader';\r\nimport {compose} from \"redux\";\r\nimport {withAuthRedirect} from \"../../hoc/withAuthRedirect\";\r\nimport {\r\n    getCurrentPage,\r\n    getFollowingInProgress,\r\n    getIsFetching,\r\n    getPageSize,\r\n    getTotalUsersCount,\r\n    getUsers\r\n} from \"../../redux/user-selectors\";\r\n\r\n\r\ntype UsersForPageType = {\r\n    users: Array<UsersFromApiType>\r\n    pageSize: number\r\n    totalUsersCount: number\r\n    currentPage: number\r\n    isFetching: boolean\r\n    followingInProgress: string[]\r\n    followUser: (userId: string) => void\r\n    unFollowUser: (userId: string) => void\r\n    setCurrentPage: (pageNumber: number) => void\r\n    toggleIsFollowingInProgress: (isFetching: boolean, userId: string) => void\r\n    getUsers: (currentPage: number, pageSize: number) => void\r\n}\r\nexport type UsersPhotoApiType = {\r\n    large: string\r\n    small: string\r\n}\r\nexport type UsersFromApiType = {\r\n    name: string\r\n    id: string\r\n    photos: UsersPhotoApiType\r\n    followed: boolean\r\n}\r\n\r\n\r\nclass UsersContainerComponent extends React.Component<UsersForPageType> {\r\n\r\n    componentDidMount() {\r\n        const {currentPage, pageSize } = this.props;\r\n        this.props.getUsers(currentPage, pageSize);\r\n    }\r\n\r\n    onPageChanged = (pageNumber: number) => {\r\n        this.props.setCurrentPage(pageNumber);\r\n        const {currentPage, pageSize } = this.props;\r\n        this.props.getUsers(currentPage, pageSize);\r\n    }\r\n\r\n    render() {\r\n\r\n        return <>\r\n            {this.props.isFetching ? <Preloader/> :\r\n                <Users users={this.props.users}\r\n                       follow={this.props.followUser}\r\n                       unFollow={this.props.unFollowUser}\r\n                       followingInProgress={this.props.followingInProgress}\r\n                       totalUsersCount={this.props.totalUsersCount}\r\n                       pageSize={this.props.pageSize}\r\n                       currentPage={this.props.currentPage}\r\n                       onPageChanged={this.onPageChanged}\r\n                />}\r\n        </>\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (store: ReduxStoreType) => {\r\n    return {\r\n        users: getUsers(store),\r\n        pageSize: getPageSize(store),\r\n        totalUsersCount: getTotalUsersCount(store),\r\n        currentPage: getCurrentPage(store),\r\n        isFetching: getIsFetching(store),\r\n        followingInProgress: getFollowingInProgress(store)\r\n    }\r\n\r\n}\r\n\r\n\r\n// compose()() -  ,          (..     withAuthRedirect   connect   HOC   )\r\nexport default compose(withAuthRedirect,\r\n    connect(mapStateToProps, {followUser, unFollowUser, toggleIsFollowingInProgress, setCurrentPage, getUsers: requestUsers})\r\n    )(UsersContainerComponent) as React.ComponentType\r\n\r\n\r\n\r\n\r\n// const mapDispatchToProps = (dispatch: (action: FollowActionType | UnfollowActionType| SetUsersActionType | SetCurrentPageActionType| SetTotalCountActionType|ToggleIsFetchingActionType) => void) => {\r\n//     return {\r\n//         follow: (userId: string) => dispatch(follow(userId)),\r\n//         setUsers: (users: Array<UsersFromApiType>) => dispatch(setUsers(users)),\r\n//         unfollow: (userId: string) => dispatch(unfollow(userId)),\r\n//         setCurrentPage: (pageNumber: number) => dispatch(setCurrentPage(pageNumber)),\r\n//         setTotalUsersCount: (totalCount: number) => dispatch(setTotalUsersCount(totalCount)),\r\n//         toggleIsFetching: (ifFetching: boolean) => dispatch(toggleIsFetching(ifFetching))\r\n//     }\r\n// }\r\n\r\n// export default connect(mapStateToProps,\r\n//     {followUser, unFollowUser, toggleIsFollowingInProgress, setCurrentPage, getUsers})(UsersContainerComponent);","import React from 'react';\r\nimport style from './Header.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\nimport img from './../../../public/logo512.png'\r\n\r\ntype HeaderType = {\r\n    isAuth: boolean\r\n    login: string | null\r\n    logout: () => void\r\n}\r\n\r\nconst Header = (props: HeaderType) => {\r\n\r\n    return (\r\n        <header className={style.header}>\r\n            <img alt={'header im'} src={'https://upload.wikimedia.org/wikipedia/commons/thumb/1/1c/DC_Comics_logo.png/600px-DC_Comics_logo.png'}/>\r\n            <div className={style.loginBlock}>\r\n                {props.isAuth ? <div>{props.login} <button onClick={props.logout}>Logout</button></div> : <NavLink to={'/login'} >Login</NavLink>}\r\n\r\n            </div>\r\n        </header>\r\n    )\r\n}\r\n\r\n\r\nexport default Header;","import { authAPI } from \"../api/api\";\r\nimport { stopSubmit } from \"redux-form\";\r\n\r\nconst SET_USER_DATA = 'redux/auth-reducer/SET_USER_DATA';\r\nconst LOGIN = 'redux/auth-reducer/LOGIN'\r\n\r\nexport type SetUserDataActionType = {\r\n    type: typeof SET_USER_DATA\r\n    data: { userId: number | null, email: string | null, login: string | null, isAuth: boolean }\r\n}\r\nexport type LoginActionType = ReturnType<typeof loginActionCreator>\r\nexport type SetAuthenticationActionType = ReturnType<typeof setAuthenticationUserData>\r\nexport type AuthActionsTypes = SetUserDataActionType | LoginActionType | SetAuthenticationActionType;\r\nexport type ValidationLoginFormType = ReturnType<typeof stopSubmit>\r\n\r\nexport const loginActionCreator = (email: string, password: string, rememberMe: boolean) => {\r\n    return {\r\n        type: LOGIN,\r\n        email,\r\n        password,\r\n        rememberMe\r\n    }\r\n}\r\n\r\n\r\nconst authReducer =\r\n    (state = initialState, action: SetUserDataActionType): AuthType => {\r\n        switch (action.type) {\r\n            case SET_USER_DATA:\r\n                return {\r\n                    ...state,\r\n                    ...action.data,\r\n                }\r\n            default:\r\n                return state\r\n        }\r\n    }\r\n\r\n\r\nexport const setAuthUserData = (userId: number | null, email: string | null, login: string | null, isAuth: boolean): SetUserDataActionType => {\r\n    return {\r\n        type: SET_USER_DATA,\r\n        data: { userId, email, login, isAuth }\r\n    }\r\n}\r\nexport const setAuthenticationUserData = () => async (dispatch: (action: SetUserDataActionType) => void) => {\r\n    let responce = await authAPI.auth();\r\n    if (responce.resultCode === 0) {\r\n        let { id, login, email } = responce.data\r\n        dispatch(setAuthUserData(id, email, login, true));\r\n    }\r\n\r\n}\r\nexport const login = (email: string, password: string, rememberMe: boolean) => async (dispatch: (action: AuthActionsTypes | ValidationLoginFormType) => void) => {\r\n    let res = await authAPI.login(email, password, rememberMe);\r\n    if (res.data.resultCode === 0) {\r\n        dispatch(setAuthenticationUserData())\r\n    } else {\r\n        const message = res.data.messages.length > 0 ? res.data.messages[0] : \"some error\"\r\n        dispatch(stopSubmit('login', { _error: message }));\r\n    }\r\n\r\n}\r\nexport const logout = () => async (dispatch: (action: AuthActionsTypes) => void) => {\r\n    let res = await authAPI.logout();\r\n        if (res.data.resultCode === 0) {\r\n            dispatch(setAuthUserData(null, null, null, false))\r\n        }\r\n}\r\n\r\n// export type AuthType = {\r\n//     userId: number | null,\r\n//     email: string | null,\r\n//     login: string | null,\r\n//     isAuth: boolean\r\n// }\r\n\r\nexport type AuthType = typeof initialState\r\n\r\nlet initialState = {\r\n    userId: null as number | null,\r\n    email: null as string | null,\r\n    login: null as string | null,\r\n    isAuth: false\r\n\r\n}\r\n\r\n\r\nexport default authReducer;","import React from 'react';\r\nimport Header from \"./Header\";\r\nimport {connect} from 'react-redux';\r\nimport {ReduxStoreType} from \"../../redux/redux-store\";\r\nimport {logout, setAuthenticationUserData} from \"../../redux/auth-reducer\";\r\n\r\n\r\ntype HeaderContainerType = {\r\n    isAuth: boolean\r\n    login: string|null\r\n    logout: () => void\r\n}\r\n\r\nclass HeaderContainer extends React.Component<HeaderContainerType> {\r\n\r\n\r\n\r\n\r\n    render(){\r\n        return <Header {...this.props}/>\r\n    }\r\n\r\n}\r\nconst mapStateToProps = (state: ReduxStoreType) => ({\r\n        isAuth: state.auth.isAuth,\r\n        login:  state.auth.login,\r\n})\r\nexport default connect(mapStateToProps, { logout})(HeaderContainer);","import React from 'react'\r\nimport {Field, InjectedFormProps, reduxForm} from \"redux-form\";\r\nimport {FormFieldInput} from \"../../utils/formControls/FormsControls\";\r\nimport {maxLengthValidator, required} from \"../../utils/validators/validators\";\r\nimport {connect} from \"react-redux\";\r\nimport {login} from \"../../redux/auth-reducer\";\r\nimport {ReduxStoreType} from \"../../redux/redux-store\";\r\nimport {Redirect} from 'react-router-dom';\r\nimport style from './../../utils/formControls/FormsControls.module.css'\r\n\r\ntype FormDataType = {\r\n    login: string\r\n    password: string\r\n    rememberMe: boolean\r\n}\r\n\r\ntype LoginCompType = {\r\n    isAuth: boolean\r\n    login: (email: string, password: string, rememberMe: boolean) => void\r\n}\r\n\r\nlet maxLengthLoginInput = maxLengthValidator(20);\r\n\r\nconst LoginForm: React.FC<InjectedFormProps<FormDataType>> = (props) => {\r\n    return <form onSubmit={props.handleSubmit}>\r\n        <div>\r\n            <Field placeholder={'Login'} type={'text'} name={'login'} validate={[required, maxLengthLoginInput]}\r\n                   component={FormFieldInput}/>\r\n        </div>\r\n        <div>\r\n            <Field placeholder={'Password'} type={'password'} name={'password'} validate={[required]}\r\n                   component={FormFieldInput}/>\r\n        </div>\r\n        <div>\r\n            <Field name={'rememberMe'} type={\"checkbox\"} component={FormFieldInput}/> Remember Me\r\n        </div>\r\n        {props.error && <div className={style.formSummaryError}>\r\n            {props.error}\r\n        </div>\r\n        }\r\n\r\n        <div>\r\n            <button>Login</button>\r\n        </div>\r\n    </form>\r\n}\r\n\r\nlet LoginReduxForm = reduxForm<FormDataType>({form: \"login\"})(LoginForm)\r\n\r\n\r\nconst Login: React.FC<LoginCompType> = (props) => {\r\n    const onSubmit = (formData: FormDataType) => {\r\n        let {login, password, rememberMe} = {...formData}\r\n        props.login(login, password, rememberMe)\r\n    }\r\n    if (props.isAuth) {\r\n        return <Redirect to={'/profile'}/>\r\n    }\r\n    return <div>\r\n        <h1>Login</h1>\r\n        <LoginReduxForm onSubmit={onSubmit}/>\r\n    </div>\r\n}\r\n\r\nconst mapStateToProps = (store: ReduxStoreType) => ({\r\n    isAuth: store.auth.isAuth\r\n})\r\nexport default connect(mapStateToProps, {login})(Login);","import {SetAuthenticationActionType, setAuthenticationUserData} from \"./auth-reducer\";\r\n\r\nconst INITIALIZED_SUCCESS = 'INITIALIZED_SUCCESS';\r\n\r\n\r\nexport type InitializedAppACType = ReturnType<typeof initializedSuccess>\r\n\r\n\r\nexport type AuthType = typeof initialState\r\n\r\nlet initialState = {\r\n    initialized: false\r\n}\r\n\r\nconst appReducer =\r\n    (state = initialState, action: InitializedAppACType): AuthType => {\r\n        switch (action.type) {\r\n            case INITIALIZED_SUCCESS:\r\n                return {\r\n                    ...state,\r\n                    initialized: true\r\n                }\r\n            default:\r\n                return state\r\n        }\r\n    }\r\n\r\nexport const initializedSuccess = () => {\r\n    return {\r\n        type: INITIALIZED_SUCCESS,\r\n    }\r\n}\r\nexport const initializeApp = () => (dispatch: (action: InitializedAppACType | SetAuthenticationActionType) => void) => {\r\n\r\n    let promise = dispatch(setAuthenticationUserData());\r\n\r\n    Promise.all([promise])\r\n        .then(()=>{\r\n            dispatch(initializedSuccess())\r\n        })\r\n\r\n\r\n}\r\nexport default appReducer;","import React, { Suspense } from \"react\";\r\nimport \"./App.css\";\r\nimport NavBar from \"./components/NavBar/NavBar\";\r\nimport { Route, withRouter } from \"react-router-dom\";\r\nimport UsersContainer from \"./components/Users/UsersContainer\";\r\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\r\nimport Login from \"./components/Login/Login\";\r\nimport { compose } from \"redux\";\r\nimport { connect } from \"react-redux\";\r\nimport { ReduxStoreType } from \"./redux/redux-store\";\r\nimport Preloader from \"./components/common/Preloader\";\r\nimport { initializeApp } from \"./redux/app-reducer\";\r\n\r\ntype AppComponentType = {\r\n    initialized: boolean\r\n    initializeApp: () => void\r\n}\r\n\r\nconst DialogsContainer = React.lazy(() => import('./components/Dialogs/DialogsContainer'))\r\nconst ProfileContainer = React.lazy(() => import('./components/Profile/ProfileContainer'))\r\n\r\nclass App extends React.Component<AppComponentType> {\r\n\r\n    componentDidMount() {\r\n        this.props.initializeApp();\r\n    }\r\n\r\n    render() {\r\n        if (!this.props.initialized) {\r\n            return <Preloader />\r\n        }\r\n\r\n\r\n        return (\r\n            <div className=\"app-wrapper\">\r\n                <HeaderContainer />\r\n                <NavBar />\r\n                <div className=\"app-wrapper-content\">\r\n                    <Route path=\"/dialogs\" render={() => <Suspense fallback={<Preloader />}>\r\n                        <DialogsContainer />\r\n                    </Suspense>} />\r\n                    <Route path=\"/profile/:userID?\" render={() => <Suspense fallback={<Preloader />}>\r\n                    <ProfileContainer />\r\n                    </Suspense>} />\r\n                    <Route path=\"/users\" render={() => <UsersContainer />} />\r\n                    <Route path=\"/login\" render={() => <Login />} />\r\n                </div>\r\n            </div>\r\n\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state: ReduxStoreType) => ({\r\n    initialized: state.app.initialized\r\n})\r\n\r\nexport default compose<React.ComponentType>(connect(mapStateToProps, { initializeApp }), withRouter)(App)\r\n","import {applyMiddleware, combineReducers, createStore} from \"redux\";\r\nimport profileReducer from \"./profile-reducer\";\r\nimport dialogsReducer from \"./dialogs-reducer\";\r\nimport usersReducer from \"./users-reducer\";\r\nimport authReducer from \"./auth-reducer\";\r\nimport thunkMiddleware from 'redux-thunk'\r\nimport {reducer as formReducer} from 'redux-form'\r\nimport appReducer from \"./app-reducer\";\r\n\r\nlet reducers = combineReducers({\r\n    profilePage: profileReducer,\r\n    dialogPage: dialogsReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    form: formReducer,\r\n    app: appReducer\r\n})\r\n\r\nexport type ReduxStoreType = ReturnType<typeof reducers>\r\n\r\nexport let store = createStore(reducers, applyMiddleware(thunkMiddleware));\r\n","import React from 'react';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App\";\r\nimport {Provider} from \"react-redux\";\r\nimport {store} from \"./redux/redux-store\";\r\nimport {BrowserRouter, HashRouter} from \"react-router-dom\";\r\n\r\nexport const rerenderEntireTree = () => {\r\n    ReactDOM.render(\r\n        <React.StrictMode>\r\n            <Provider store={store}>\r\n                <HashRouter basename={process.env.PUBLIC_URL}>\r\n                    <App/>\r\n                </HashRouter>\r\n            </Provider>\r\n        </React.StrictMode>,\r\n        document.getElementById('root')\r\n    );\r\n}\r\n\r\nrerenderEntireTree();\r\nstore.subscribe(rerenderEntireTree);\r\n\r\nserviceWorker.unregister();\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControls_formControl__x8JHm\",\"error\":\"FormsControls_error__29lvi\",\"formSummaryError\":\"FormsControls_formSummaryError__1zI0A\"};","import preLoader from \"../../images/spinner-icon-gif-28.jpg\";\r\nimport React from \"react\";\r\n\r\ntype PreloaderType = {\r\n\r\n}\r\nconst Preloader = (props: PreloaderType) => {\r\n    return <img alt={'loading'} src={preLoader}/>\r\n}\r\n\r\nexport default Preloader;","import React from 'react'\r\nimport {WrappedFieldProps} from \"redux-form\";\r\nimport style from './FormsControls.module.css'\r\n\r\n\r\n// type TextareaFormFieldPropsType = {\r\n//     input: InputHTMLAttributes<HTMLTextAreaElement>\r\n//     placeholder: string\r\n//     meta: {\r\n//         touched: boolean,\r\n//         error: string\r\n//     }\r\n// }\r\n//\r\n// type InputFormFieldPropsType = {\r\n//     input: InputHTMLAttributes<HTMLInputElement>\r\n//     type: string\r\n//     meta: {\r\n//         touched: boolean,\r\n//         error: string\r\n//     }\r\n// }\r\n\r\n//\r\n// export const FormControl: React.FC<WrappedFieldProps & {placeholder: string}> = ({ input, placeholder,  meta: { touched, error, warning} }) => {\r\n//     return <div className={style.formControl+ ' '+ ((touched && error) ? style.error: ' ')}>\r\n//         <textarea placeholder={placeholder}  {...input} />\r\n//         {touched && error &&<span>{error}</span>}\r\n//     </div>\r\n// }\r\n\r\n\r\n\r\n\r\n\r\nexport const FormFieldTextarea: React.FC<WrappedFieldProps & {placeholder: string}> = (props) => {\r\n    const { input, meta, ...restProps } = props\r\n    return <div className={style.formControl+ ' '+ ((meta.touched && meta.error) ? style.error: ' ')}>\r\n        <textarea {...restProps} {...input} />\r\n        {meta.touched && meta.error &&<span>{meta.error}</span>}\r\n    </div>\r\n}\r\n\r\n\r\n\r\nexport const FormFieldInput: React.FC<WrappedFieldProps & {placeholder:string, type: string}> = (props) => {\r\n    const { input, meta, ...restProps } = props\r\n    return <div className={style.formControl+ ' '+ ((meta.touched && meta.error) ? style.error: ' ')}>\r\n        <input {...restProps} {...input}/>\r\n        {meta.touched && meta.error && <span>{meta.error}</span>}\r\n    </div>\r\n}\r\n\r\n","\r\nexport type FieldValidatorType = (value: string) => string | undefined\r\n\r\nexport const required: FieldValidatorType = (value)=> {\r\n   return  value  ? undefined: 'Invalid Message'\r\n}\r\n\r\nexport const maxLengthValidator = (max: number): FieldValidatorType => (value: string) => {\r\n    return (value && value.length > max) ? `Must be ${max} characters or less`: undefined\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__2YpPe\",\"loginBlock\":\"Header_loginBlock__20IbG\"};","import React from 'react'\r\nimport {Redirect} from 'react-router-dom'\r\nimport {ReduxStoreType} from \"../redux/redux-store\";\r\nimport {connect} from \"react-redux\";\r\n\r\n\r\ntype RedirectComponentType = {\r\n    isAuth: boolean\r\n}\r\n\r\nlet mapStateToPropsForRedirect = (store: ReduxStoreType) => ({\r\n    isAuth: store.auth.isAuth,\r\n})\r\n\r\nexport function withAuthRedirect<WCP> (WrappedComponent: React.ComponentType<WCP> )  {\r\n\r\n   class RedirectComponent extends React.Component<RedirectComponentType> {\r\n\r\n       render() {\r\n           const {isAuth, ...props} = this.props\r\n\r\n            if(!isAuth){\r\n                return <Redirect to={'/login'}/>\r\n            } else\r\n           return <WrappedComponent{...props as WCP}/>\r\n       }\r\n   }\r\n    return connect(mapStateToPropsForRedirect)(RedirectComponent);\r\n}\r\n\r\n// with arrow function\r\nexport let withArrowFuncAuthRedirect = <T,>(Component: React.ComponentType<T> ) => {\r\n\r\n    let RedirectComponent = (props: RedirectComponentType) => {\r\n             const {isAuth, ...restProps} = props\r\n            if(!props.isAuth){\r\n                return <Redirect to={'/login'}/>\r\n            }\r\n            return <Component{...restProps as T}/>\r\n        }\r\n\r\n    return connect(mapStateToPropsForRedirect)(RedirectComponent);\r\n}","import {PostType} from \"../components/Profile/MyPosts/Post/Post\";\r\nimport {SendMessageActionType} from \"./dialogs-reducer\";\r\nimport { UserProfileType} from \"../components/Profile/ProfileContainer\";\r\nimport {profileAPI, usersAPI} from \"../api/api\";\r\nimport { UsersPhotoApiType } from \"../components/Users/UsersContainer\";\r\n\r\nexport type ProfilePageTypeForm = {\r\n    posts: Array<PostType>\r\n    userProfile: UserProfileType | null\r\n    status: string\r\n    \r\n}\r\n\r\nexport type AddPostActionType = {\r\n    type: typeof ADD_POST\r\n    post: string\r\n}\r\nexport type UpdateNewPostActionType = {\r\n    type: typeof UPDATE_NEW_POST_TEXT\r\n    newText: string\r\n}\r\nexport type SetUserProfileType = {\r\n    type: typeof SET_USER_PROFILE\r\n    userProfile: UserProfileType\r\n}\r\nexport type SetStatusType = {\r\n    type: typeof SET_STATUS\r\n    status: string\r\n}\r\n\r\nexport type SetPhotosSuccessType = {\r\n    type: typeof SAVE_PHOTO_SUCCESS\r\n    photos: UsersPhotoApiType\r\n}\r\n\r\nconst ADD_POST = 'ADD-POST';\r\nconst SET_USER_PROFILE = \"SET-USER-PROFILE\";\r\nconst SET_STATUS = \"SET-STATUS\";\r\nconst UPDATE_NEW_POST_TEXT = \"UPDATE-NEW-POST-TEXT\";\r\nconst SAVE_PHOTO_SUCCESS = \"SAVE-PHOTO-SUCCESS\"\r\n\r\nexport const addPostActionCreator = (post: string): AddPostActionType => {\r\n    return {\r\n        type: ADD_POST,\r\n        post\r\n    }\r\n}\r\nexport const setUserProfile = (userProfile: UserProfileType): SetUserProfileType => {\r\n    return {\r\n        type: SET_USER_PROFILE,\r\n        userProfile\r\n    } as const\r\n}\r\nexport const setMyUserProfile = (userID: string) => (dispatch: (action: ActionsType) => void) => {\r\n    usersAPI.setUser(userID).then(data => {\r\n        dispatch(setUserProfile(data));\r\n    })\r\n}\r\nexport const setStatus = (status: string)  => {\r\n    return {\r\n    type: SET_STATUS,\r\n    status\r\n} as const\r\n}\r\n\r\n\r\nexport const savePhotoSuccess = (photos: UsersPhotoApiType) => ( {\r\n    type: SAVE_PHOTO_SUCCESS,\r\n    photos  \r\n  } as const)\r\n\r\nexport const getStatus = (userId: string) => (dispatch: (action: ActionsType) => void) => {\r\n    profileAPI.getStatus(userId).then(response => dispatch(setStatus(response.data)))\r\n}\r\n\r\nexport const updateStatus = (newStatus: string) => (dispatch: (action: ActionsType) => void) =>{\r\n    profileAPI.updateStatus(newStatus).then(\r\n        response => {\r\n            if(response.data.resultCode === 0){\r\n                dispatch(setStatus(newStatus))\r\n            }\r\n        })\r\n}\r\n\r\n\r\nexport const saveProfile = (profile: UserProfileType) => async (dispatch: (action: ActionsType) => void , getState: () => ProfilePageTypeForm ) =>{\r\n    const userId = '4'\r\n    if(getState().userProfile?.userId) {\r\n        const userId = getState().userProfile?.userId\r\n    } \r\n   \r\n    let response = await profileAPI.saveProfile(profile)\r\n            if(response.data.resultCode === 0){\r\n               getStatus(userId)\r\n            }    \r\n}\r\n\r\nexport const savePhoto = (photo: File) => async (dispatch: (action: ActionsType) => void) =>{\r\n    let response = await profileAPI.savePhoto(photo)\r\n            if(response.data.resultCode === 0){\r\n                dispatch(savePhotoSuccess(response.data.data.photos))\r\n            }    \r\n}\r\n\r\n\r\n\r\n\r\ntype ActionsType = AddPostActionType\r\n    | SendMessageActionType\r\n    | SetUserProfileType\r\n    | SetStatusType\r\n    | SetPhotosSuccessType\r\n\r\nlet initialState: ProfilePageTypeForm = {\r\n    posts: [\r\n        {id: 1, message: 'Hi? how are you', likesCount: 12},\r\n        {id: 2, message: 'It is my first post', likesCount: 11},\r\n        {id: 3, message: 'It is my second post', likesCount: 15},\r\n    ],\r\n    userProfile: null,\r\n    status: '',\r\n   \r\n}\r\n\r\nexport const profileReducer =\r\n    (state = initialState,\r\n     action: ActionsType): ProfilePageTypeForm => {\r\n\r\n        switch (action.type) {\r\n            case ADD_POST:\r\n                let newPost: PostType = {\r\n                    id: 5,\r\n                    message: action.post,\r\n                    likesCount: 0,\r\n                };\r\n\r\n                return {\r\n                    ...state,\r\n                    posts: [...state.posts, newPost],\r\n                };\r\n\r\n            case SET_USER_PROFILE:\r\n                return {...state, userProfile: action.userProfile};\r\n             \r\n                case SAVE_PHOTO_SUCCESS:\r\n                    return {...state, userProfile: {...state.userProfile, photos: action.photos}};\r\n        \r\n\r\n            case SET_STATUS:\r\n                return {\r\n                    ...state,\r\n                    status: action.status\r\n                }\r\n            default:\r\n                return state\r\n        }\r\n    }\r\nexport default profileReducer;"],"sourceRoot":""}