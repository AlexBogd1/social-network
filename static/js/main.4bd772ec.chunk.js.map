{"version":3,"sources":["components/Dialogs/Dialogs.module.css","components/Users/Users.module.css","components/Profile/ProfileInfo/ProfileInfo.module.css","components/Profile/MyPosts/MyPosts.module.css","components/Header/Header.module.css","images/images.png","images/spinner-icon-gif-28.jpg","components/Profile/MyPosts/Post/Post.module.css","components/NavBar/NavBar.module.css","serviceWorker.ts","components/NavBar/NavBar.tsx","redux/dialogs-reducer.tsx","components/Dialogs/DialogItem/DialodsItem.tsx","components/Dialogs/Message/Message.tsx","components/Dialogs/Dialogs.tsx","components/Dialogs/DialogsContainer.tsx","api/api.ts","redux/users-reducer.tsx","components/Users/Users.tsx","components/common/Preloader.tsx","components/Users/UsersContainer.tsx","components/Profile/ProfileInfo/ProfileInfo.tsx","redux/profile-reducer.tsx","components/Profile/MyPosts/Post/Post.tsx","components/Profile/MyPosts/MyPosts.tsx","components/Profile/MyPosts/MyPostsContainer.tsx","components/Profile/Profile.tsx","components/Profile/ProfileContainer.tsx","components/Header/Header.tsx","redux/auth-reducer.tsx","components/Header/HeaderContainer.tsx","components/Login/Login.tsx","App.tsx","redux/redux-store.tsx","index.tsx"],"names":["module","exports","Boolean","window","location","hostname","match","NavBar","className","style","nav","item","to","activeClassName","active","initialState","dialogs","id","name","messages","message","newMessageBody","dialogsReducer","state","action","type","body","DialogItem","props","path","dialog","Message","Dialogs","console","log","dialogsElements","dialogPage","map","d","messagesElements","m","isAuth","dialogsItems","value","onChange","e","target","onNewMessageChange","placeholder","onClick","onSendMessageClick","DialogsContainer","connect","store","auth","dispatch","updateNewMessageBodyCreator","istance","axios","create","baseURL","withCredentials","headers","usersAPI","currentPage","pageSize","get","then","response","data","userId","delete","post","toggleIsFetching","isFetching","toggleIsFollowingInProgress","users","totalUsersCount","followingInProgress","usersReducer","u","followed","pageNumber","filter","Users","pagesCount","Math","ceil","pages","i","push","p","key","styles","selectedPage","onPageChanged","usersPhoto","src","photos","small","userPhoto","disabled","some","unFollow","follow","Preloader","preLoader","UsersContainerComponent","setCurrentPage","getUsers","this","followUser","unFollowUser","React","Component","usersPage","resultCode","unfollow","items","totalCount","ProfileInfo","profile","img","large","aboutMe","fullName","contacts","facebook","instagram","posts","likesCount","messageForNewPost","userProfile","profileReducer","newPost","newText","Post","MyPosts","postsElements","newPostElement","useRef","postsBlock","ref","current","text","onChangeText","addPost","MyPostsContainer","profilePage","updateNewPostTextActionCreator","Profile","ProfileContainer","userID","params","setMyUserProfile","WithUrlDataContainerComponent","withRouter","Header","header","loginBlock","login","setAuthenticationUserData","email","setAuthUserData","authReducer","HeaderContainer","Login","App","render","UsersContainer","reducers","combineReducers","createStore","applyMiddleware","thunkMiddleware","rerenderEntireTree","ReactDOM","StrictMode","document","getElementById","subscribe","navigator","serviceWorker","ready","registration","unregister","catch","error"],"mappings":"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","file":"static/js/main.4bd772ec.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Dialogs_dialogs__g7C3c\",\"dialogsItems\":\"Dialogs_dialogsItems__gNl5t\",\"active\":\"Dialogs_active__1C3cm\",\"dialog\":\"Dialogs_dialog__8p-cM\",\"messages\":\"Dialogs_messages__yWIYX\",\"message\":\"Dialogs_message__1GguU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"usersPhoto\":\"Users_usersPhoto__3xPbX\",\"selectedPage\":\"Users_selectedPage__1pb18\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profile\":\"ProfileInfo_profile__GPZQB\",\"img\":\"ProfileInfo_img__3nKPR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"postsBlock\":\"MyPosts_postsBlock__2wHp-\",\"posts\":\"MyPosts_posts__2omky\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__3Ywtq\",\"loginBlock\":\"Header_loginBlock__2GLXl\"};","module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/spinner-icon-gif-28.7ba725da.jpg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__IWeNx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"NavBar_nav__QFuFa\",\"item\":\"NavBar_item__2ZrOd\",\"active\":\"NavBar_active__22GIs\"};","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Post is cached for offline use.\" message.\n              console.log('Post is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from \"react\";\r\nimport style from './NavBar.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst NavBar = () => {\r\n    return (\r\n        <nav className={style.nav}>\r\n            <div className={style.item}>\r\n                <NavLink to='/profile' activeClassName = {style.active}>Profile</NavLink>\r\n            </div>\r\n            <div className={style.item}>\r\n                <NavLink to='/dialogs' activeClassName = {style.active}>Messages</NavLink>\r\n            </div>\r\n            <div className={style.item}>\r\n                <NavLink to='/news' activeClassName = {style.active}>News</NavLink>\r\n            </div>\r\n            <div className={style.item}>\r\n                <NavLink to='/users' activeClassName = {style.active}>Users</NavLink>\r\n            </div>\r\n            <div className={style.item}>\r\n                <NavLink to='/music' activeClassName = {style.active}>Music</NavLink>\r\n            </div>\r\n            <div className={style.item}>\r\n                <NavLink to='/settings' activeClassName = {style.active}>Settings</NavLink>\r\n            </div>\r\n        </nav>\r\n\r\n    )\r\n}\r\n\r\nexport default NavBar;","\r\nimport {DialogsPageType} from \"./state\";\r\nimport {AddPostActionType, UpdateNewPostActionType} from \"./profile-reducer\";\r\n\r\n\r\nexport type UpdateNewMessageBodyType = {\r\n    type: 'UPDATE_NEW_MESSAGE_BODY'\r\n    body: string\r\n}\r\nexport type SendMessageActionType = {\r\n    type: 'SEND_MESSAGE'\r\n}\r\n\r\nconst UPDATE_NEW_MESSAGE_BODY = \"UPDATE_NEW_MESSAGE_BODY\";\r\nconst SEND_MESSAGE = 'SEND_MESSAGE';\r\n\r\nexport const sendMessageCreator = (): SendMessageActionType => {\r\n    return {\r\n        type: SEND_MESSAGE,\r\n    }\r\n}\r\nexport const updateNewMessageBodyCreator = (body: string): UpdateNewMessageBodyType => {\r\n    return {\r\n        type: UPDATE_NEW_MESSAGE_BODY,\r\n        body: body,\r\n    }\r\n}\r\n\r\n\r\nlet initialState: DialogsPageType = {\r\n    dialogs: [\r\n        {id: 1, name: 'Dimych'},\r\n        {id: 2, name: 'Andrey'},\r\n        {id: 3, name: 'Sveta'},\r\n        {id: 4, name: 'Victor'},\r\n        {id: 5, name: 'Alex'},\r\n        {id: 6, name: 'Valera'},\r\n    ],\r\n    messages: [\r\n        {id: 1, message: 'Hi'},\r\n        {id: 2, message: 'How is your it-kamasutra?'},\r\n        {id: 3, message: 'Yo'},\r\n        {id: 4, message: 'Yo'},\r\n        {id: 5, message: 'Yo'},\r\n    ],\r\n    newMessageBody: '',\r\n}\r\n\r\nconst dialogsReducer =\r\n    (state = initialState,\r\n     action: AddPostActionType | UpdateNewPostActionType | UpdateNewMessageBodyType | SendMessageActionType) => {\r\n\r\n        switch (action.type) {\r\n            case UPDATE_NEW_MESSAGE_BODY:\r\n                return {\r\n                    ...state,\r\n                    newMessageBody: action.body\r\n                }\r\n\r\n            case SEND_MESSAGE:\r\n                let body = state.newMessageBody;\r\n                return {\r\n                    ...state,\r\n                    newMessageBody: '',\r\n                    messages: [...state.messages,{id: 6, message: body} ]\r\n                }\r\n\r\n            default:\r\n                return state\r\n        }\r\n    }\r\n\r\nexport default dialogsReducer;","import React from \"react\";\r\nimport style from './../Dialogs.module.css'\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\n\r\n\r\nexport type DialogItemType = {\r\n    id: number\r\n    name: string\r\n}\r\n\r\nconst DialogItem = (props: DialogItemType) => {\r\n    let path = '/dialogs/' + props.id;\r\n\r\n    return (\r\n        <div className={style.dialog + ' ' + style.active}>\r\n            <NavLink activeClassName = {style.active} to={path}>{props.name}</NavLink>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n\r\nexport default DialogItem;","import React from \"react\";\r\nimport style from './../Dialogs.module.css'\r\n\r\n\r\n\r\nexport type MessageType = {\r\n    id: number\r\n    message: string\r\n}\r\n\r\nconst Message = (props: MessageType) => {\r\n    return (\r\n        <div className={style.message}>{props.message}</div>\r\n    )\r\n}\r\n\r\n\r\n\r\n\r\nexport default Message;","import React, {ChangeEvent} from \"react\";\r\nimport style from './Dialogs.module.css'\r\nimport DialogItem from \"./DialogItem/DialodsItem\";\r\nimport Message from \"./Message/Message\";\r\nimport {DialogsPageType} from \"../../redux/state\";\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\n\r\nexport type DialogsType = {\r\n    dialogPage: DialogsPageType\r\n    isAuth: boolean\r\n    onSendMessageClick: () => void\r\n    onNewMessageChange: (body: string) => void\r\n}\r\n\r\nconst Dialogs = (props: DialogsType) => {\r\n    console.log(props);\r\n\r\n    let dialogsElements = props.dialogPage.dialogs\r\n        .map(d => {\r\n            return <DialogItem name={d.name} id={d.id}/>\r\n        })\r\n\r\n    let messagesElements = props.dialogPage.messages.map(m => {\r\n        return <Message id={m.id} message={m.message}/>\r\n    })\r\n    let newMessageBody = props.dialogPage.newMessageBody;\r\n\r\n    let onSendMessageClick = () => {\r\n        props.onSendMessageClick()\r\n    }\r\n    let onNewMessageChange = (e: ChangeEvent<HTMLTextAreaElement>) => {\r\n       let body = e.target.value;\r\n       props.onNewMessageChange(body)\r\n    }\r\n    if(!props.isAuth) {\r\n        return <Redirect to={'/login'} />\r\n    }\r\n    return (\r\n        <div className={style.dialogs}>\r\n            <div className={style.dialogsItems}>\r\n                {dialogsElements}\r\n            </div>\r\n            <div className={style.messages}>\r\n                <div>{messagesElements}</div>\r\n                <div>\r\n                    <div><textarea\r\n                        value={newMessageBody}\r\n                        onChange={onNewMessageChange}\r\n                        placeholder='Enter your message'>\r\n\r\n                    </textarea></div>\r\n                    <div>\r\n                        <button onClick={onSendMessageClick}>Send</button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Dialogs;","import React from \"react\";\r\nimport {DialogsPageType} from \"../../redux/state\";\r\nimport {AddPostActionType, UpdateNewPostActionType} from \"../../redux/profile-reducer\";\r\nimport {SendMessageActionType, sendMessageCreator, updateNewMessageBodyCreator, UpdateNewMessageBodyType} from \"../../redux/dialogs-reducer\";\r\nimport {connect} from \"react-redux\";\r\nimport Dialogs from \"./Dialogs\";\r\nimport {ReduxStoreType} from \"../../redux/redux-store\";\r\n\r\nconst mapStateToProps = (store: ReduxStoreType) =>{\r\n     return { \r\n         dialogPage: store.dialogPage,\r\n         isAuth: store.auth.isAuth \r\n        }\r\n    }\r\n\r\n\r\nconst mapDispatchToProps = (dispatch: (action: UpdateNewMessageBodyType | SendMessageActionType) => void) => {\r\n    return {\r\n        onSendMessageClick: () => dispatch(sendMessageCreator()),\r\n        onNewMessageChange: (body: string) => dispatch(updateNewMessageBodyCreator(body)),\r\n    }\r\n\r\n}\r\n\r\nlet DialogsContainer = connect(mapStateToProps,mapDispatchToProps)(Dialogs);\r\n\r\nexport default DialogsContainer;","import axios from \"axios\";\r\n\r\n\r\nconst istance = axios.create({\r\n    baseURL: \"https://social-network.samuraijs.com/api/1.0/\",\r\n    withCredentials: true,\r\n    headers: {\"API-KEY\": 'd77a6d97-4f2e-437e-9116-ca68d9731287'},\r\n})\r\n\r\nexport const usersAPI = {\r\n    getUsers(currentPage: number = 1, pageSize: number = 5) {\r\n        return istance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n            .then(response => response.data)\r\n    },\r\n\r\n    setUser(userId: string) {\r\n        return istance.get('profile/'+ userId).then(response => response.data)\r\n    },\r\n\r\n    unFollow(id: string) {\r\n        return  istance.delete(`follow/${id}`)\r\n            .then (response => response.data)\r\n    },\r\n\r\n    follow(id: string) {\r\n        return istance.post(`follow/${id}`).then(response => response.data)\r\n    },\r\n\r\n    auth() {\r\n        return istance.get(`auth/me`).then(response => response.data)\r\n    }\r\n\r\n}\r\n","import {UsersFromApiType} from \"../components/Users/Users\";\r\nimport {usersAPI} from \"../api/api\";\r\n\r\nconst FOLLOW = 'FOLLOW';\r\nconst UNFOLLOW = \"UNFOLLOW\";\r\nconst SET_USERS = \"SET_USERS\";\r\nconst SET_CURRENT_PAGE = \"SET_CURRENT_PAGE\";\r\nconst SET_TOTAL_COUNT = \"SET_TOTAL_COUNT\";\r\nconst TOGGLE_IS_FETCHING = \"TOGGLE_IS_FETCHING\";\r\nconst TOGGLE_IS_FOLLOWING_IN_PROGRESS = \"TOGGLE_IS_FOLLOWING_IN_PROGRESS\";\r\n\r\nexport type FollowActionType = {\r\n    type: 'FOLLOW'\r\n    userId: string\r\n}\r\nexport type UnfollowActionType = {\r\n    type: 'UNFOLLOW'\r\n    userId: string\r\n}\r\nexport type SetUsersActionType = {\r\n    type: \"SET_USERS\"\r\n    users: Array<UsersFromApiType>\r\n}\r\nexport type SetCurrentPageActionType = {\r\n    type: \"SET_CURRENT_PAGE\"\r\n    pageNumber: number\r\n}\r\nexport type SetTotalCountActionType = {\r\n    type: \"SET_TOTAL_COUNT\"\r\n    totalUsersCount: number\r\n}\r\nexport type ToggleIsFetchingActionType = {\r\n    type: \"TOGGLE_IS_FETCHING\"\r\n    isFetching: boolean\r\n}\r\nexport type ToggleIsFollowingInProgressActionType = {\r\n    type: \"TOGGLE_IS_FOLLOWING_IN_PROGRESS\"\r\n    isFetching: boolean\r\n    userId: string\r\n}\r\n\r\n\r\nexport const follow = (userId: string): FollowActionType => {\r\n    return {\r\n        type: FOLLOW,\r\n        userId\r\n    }\r\n}\r\nexport const unfollow = (userId: string): UnfollowActionType => {\r\n    return {\r\n        type: UNFOLLOW,\r\n        userId\r\n    }\r\n}\r\nexport const setUsers = (users: Array<UsersFromApiType>): SetUsersActionType => {\r\n    return {\r\n        type: SET_USERS,\r\n        users\r\n    }\r\n}\r\nexport const setCurrentPage = (pageNumber: number): SetCurrentPageActionType => {\r\n    return {\r\n        type: SET_CURRENT_PAGE,\r\n        pageNumber\r\n    }\r\n}\r\nexport const setTotalUsersCount = (totalUsersCount: number): SetTotalCountActionType => {\r\n    return {\r\n        type: SET_TOTAL_COUNT,\r\n        totalUsersCount\r\n    }\r\n}\r\nexport const toggleIsFetching = (isFetching: boolean): ToggleIsFetchingActionType => {\r\n    return {\r\n        type: TOGGLE_IS_FETCHING,\r\n        isFetching\r\n    }\r\n}\r\nexport const toggleIsFollowingInProgress = (isFetching: boolean,userId: string): ToggleIsFollowingInProgressActionType => {\r\n    return {\r\n        type: TOGGLE_IS_FOLLOWING_IN_PROGRESS,\r\n        isFetching,\r\n        userId\r\n    }\r\n}\r\n\r\nexport const getUsers = (currentPage: number, pageSize: number) => (dispatch:(action:ActionsType)=> void) =>{\r\n    dispatch(toggleIsFetching(true));\r\n    usersAPI.getUsers(currentPage, pageSize).then(data => {\r\n        dispatch(toggleIsFetching(false));\r\n        dispatch(setUsers(data.items));\r\n        dispatch(setTotalUsersCount(data.totalCount));\r\n    })\r\n}\r\nexport const followUser = (userId: string) => (dispatch:(action:ActionsType)=> void) => {\r\n    dispatch(toggleIsFollowingInProgress(true, userId));\r\n\r\n    usersAPI.follow(userId).then(data => {\r\n        if(data.resultCode == 0) {\r\n            dispatch(follow(userId))\r\n        }\r\n        dispatch(toggleIsFollowingInProgress(false, userId))\r\n    })\r\n}\r\nexport const unFollowUser = (userId: string) => (dispatch:(action:ActionsType)=> void) => {\r\n    dispatch(toggleIsFollowingInProgress(true, userId));\r\n\r\n    usersAPI.unFollow(userId).then(data => {\r\n        if(data.resultCode == 0) {\r\n            dispatch(unfollow(userId))\r\n        }\r\n        dispatch(toggleIsFollowingInProgress(false, userId))\r\n    })\r\n}\r\n\r\ntype ActionsType = FollowActionType\r\n    | UnfollowActionType\r\n    | SetUsersActionType\r\n    | SetCurrentPageActionType\r\n    | SetTotalCountActionType\r\n    | ToggleIsFetchingActionType\r\n    | ToggleIsFollowingInProgressActionType\r\n\r\nexport type UsersPageType = {\r\n    users: Array<UsersFromApiType>\r\n    pageSize: number\r\n    totalUsersCount: number\r\n    currentPage: number\r\n    isFetching: boolean\r\n    followingInProgress: string[]\r\n}\r\n\r\nlet initialState: UsersPageType = {\r\n    users: [ ],\r\n    pageSize: 7,\r\n    totalUsersCount: 0,\r\n    currentPage: 1,\r\n    isFetching: true,\r\n    followingInProgress: []\r\n}\r\n\r\nconst usersReducer =\r\n    (state = initialState, action: ActionsType) => {\r\n        switch (action.type) {\r\n            case FOLLOW:\r\n                return {\r\n                    ...state,\r\n                    users: state.users.map(u => {\r\n                        if (u.id === action.userId) {\r\n                            return {...u, followed: true}\r\n                        }\r\n                        return u;\r\n                    })\r\n                }\r\n                break\r\n            case UNFOLLOW:\r\n                debugger\r\n                return {\r\n                    ...state,\r\n                    users: state.users.map(u => {\r\n                        debugger\r\n                        if (u.id === action.userId) {\r\n                            return {...u, followed: false}\r\n                        }\r\n                        return u;\r\n                    })\r\n                }\r\n                break\r\n            case SET_USERS:\r\n                return {...state, users: [...action.users]}\r\n\r\n            case SET_CURRENT_PAGE:\r\n            return {\r\n                ...state,\r\n                currentPage: action.pageNumber\r\n            }\r\n            case \"SET_TOTAL_COUNT\":\r\n                return {\r\n                    ...state,\r\n                    totalUsersCount: action.totalUsersCount\r\n                }\r\n            case \"TOGGLE_IS_FETCHING\":\r\n                return {...state, isFetching: action.isFetching}\r\n            case \"TOGGLE_IS_FOLLOWING_IN_PROGRESS\":\r\n                return {\r\n                    ...state,\r\n                    followingInProgress:\r\n                        action.isFetching ? [...state.followingInProgress, action.userId]\r\n                        : state.followingInProgress.filter(id => id != action.userId)\r\n                }\r\n            default:\r\n                return state\r\n        }\r\n    }\r\nexport default usersReducer;","import React from 'react';\r\nimport styles from './Users.module.css'\r\nimport userPhoto from '../../images/images.png'\r\nimport {NavLink} from 'react-router-dom';\r\nimport {usersAPI} from \"../../api/api\";\r\n\r\ntype UsersForPageType = {\r\n    users: Array<UsersFromApiType>\r\n    totalUsersCount: number\r\n    pageSize: number\r\n    currentPage: number\r\n    followingInProgress: string[]\r\n    onPageChanged:(page: number) => void\r\n    follow: (userId: string) => void\r\n    unFollow: (userId: string) => void\r\n}\r\n\r\ntype UsersPhotoApiType = {\r\n    small: string\r\n    large: string\r\n}\r\n\r\nexport type UsersFromApiType = {\r\n    name: string\r\n    id: string\r\n    photos: UsersPhotoApiType\r\n    followed: boolean\r\n}\r\n\r\nconst Users = (props: UsersForPageType) => {\r\n\r\n    let pagesCount = Math.ceil(props.totalUsersCount / props.pageSize);\r\n    let pages = [];\r\n\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i);\r\n    }\r\n\r\n    return (<div>\r\n        <div>\r\n            {pages.map(p =>\r\n                <span\r\n                    key={p}\r\n                    className={props.currentPage === p ? styles.selectedPage : ''}\r\n                    onClick = {(e) => {  props.onPageChanged(p); }}\r\n                >\r\n                    {p}\r\n                </span>)}\r\n        </div>\r\n\r\n\r\n        {\r\n            props.users.map(u => <div key={u.id}>\r\n                    <span>\r\n                        <NavLink to = {'/profile/' + u.id}>\r\n                        <div>\r\n                            <img className={styles.usersPhoto} src={u.photos.small ? u.photos.small : userPhoto}/>\r\n                        </div>\r\n                    </NavLink>\r\n\r\n                        <div>\r\n                            {u.followed\r\n                                ? <button disabled={props.followingInProgress.some(id => id === u.id)} onClick={() =>{\r\n                                   props.unFollow(u.id);\r\n                                }\r\n                                }>Unfollow</button>\r\n                                : <button disabled={props.followingInProgress.some(id => id == u.id)} onClick={() => {\r\n                                    props.follow(u.id)\r\n                                }}>Follow</button>}\r\n\r\n                        </div>\r\n                    </span>\r\n                <span>\r\n                        <span>\r\n                            <div>{u.name}</div>\r\n                            <div>{u.name}</div>\r\n                        </span>\r\n                        <span>\r\n                            <div>{'Mos'}</div>\r\n                            <div>{'Mins'}</div>\r\n                        </span>\r\n                    </span>\r\n            </div>)\r\n        }\r\n    </div>)\r\n\r\n}\r\n\r\nexport default Users;\r\n\r\n// [ {\r\n//     id: 1,\r\n//     photoUrl: 'https://daks2k3a4ib2z.cloudfront.net/56cf5dcdd3b4fc4579d08bef/56cf5dced3b4fc4579d08bf8_BomberMario-icon-300x300.jpg',\r\n//     fallowed: true,\r\n//     fullName: 'Dmitry',\r\n//     status: 'I am a boss',\r\n//     location: {city: 'Minsk', country: 'Belarus'}\r\n// },\r\n//     {\r\n//         id: 2,\r\n//         photoUrl: 'https://daks2k3a4ib2z.cloudfront.net/56cf5dcdd3b4fc4579d08bef/56cf5dced3b4fc4579d08bf8_BomberMario-icon-300x300.jpg',\r\n//         fallowed: false,\r\n//         fullName: 'Alex',\r\n//         status: 'I am a boss',\r\n//         location: {city: 'Moscow', country: 'Russia'}\r\n//     },\r\n//     {\r\n//         id: 3,\r\n//         photoUrl: 'https://daks2k3a4ib2z.cloudfront.net/56cf5dcdd3b4fc4579d08bef/56cf5dced3b4fc4579d08bf8_BomberMario-icon-300x300.jpg',\r\n//         fallowed: true,\r\n//         fullName: 'Andrew',\r\n//         status: 'I am a boss',\r\n//         location: {city: 'Kiev', country: 'Ukraine'}\r\n//     },]","import preLoader from \"../../images/spinner-icon-gif-28.jpg\";\r\nimport React from \"react\";\r\n\r\ntype PreloaderType = {\r\n\r\n}\r\nconst Preloader = (props: PreloaderType) => {\r\n    return <img src={preLoader}/>\r\n}\r\n\r\nexport default Preloader;","import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport {ReduxStoreType} from \"../../redux/redux-store\";\r\nimport {\r\n    followUser,\r\n    getUsers,\r\n    setCurrentPage,\r\n    toggleIsFollowingInProgress,\r\n    unFollowUser\r\n} from \"../../redux/users-reducer\";\r\nimport Users from \"./Users\";\r\nimport Preloader from '../common/Preloader';\r\n\r\n\r\ntype UsersForPageType = {\r\n    users: Array<UsersFromApiType>\r\n    pageSize: number\r\n    totalUsersCount: number\r\n    currentPage: number\r\n    isFetching: boolean\r\n    followingInProgress: string[]\r\n    followUser: (userId: string) => void\r\n    unFollowUser: (userId: string) => void\r\n    setCurrentPage: (pageNumber: number) => void\r\n    toggleIsFollowingInProgress: (isFetching: boolean, userId: string) => void\r\n    getUsers: (currentPage: number, pageSize: number) => void\r\n}\r\nexport type UsersPhotoApiType = {\r\n    large: string\r\n    small: string\r\n}\r\nexport type UsersFromApiType = {\r\n    name: string\r\n    id: string\r\n    photos: UsersPhotoApiType\r\n    followed: boolean\r\n}\r\n\r\n\r\nclass UsersContainerComponent extends React.Component<UsersForPageType> {\r\n\r\n    componentDidMount() {\r\n        this.props.getUsers(this.props.currentPage, this.props.pageSize);\r\n    }\r\n\r\n    onPageChanged = (pageNumber: number) => {\r\n        this.props.setCurrentPage(pageNumber);\r\n        this.props.getUsers(this.props.currentPage, this.props.pageSize);\r\n    }\r\n\r\n    render() {\r\n\r\n        return <>\r\n            {this.props.isFetching ? <Preloader/> :\r\n                <Users users={this.props.users}\r\n                       follow={this.props.followUser}\r\n                       unFollow={this.props.unFollowUser}\r\n                       followingInProgress={this.props.followingInProgress}\r\n                       totalUsersCount={this.props.totalUsersCount}\r\n                       pageSize={this.props.pageSize}\r\n                       currentPage={this.props.currentPage}\r\n                       onPageChanged={this.onPageChanged}\r\n                />}\r\n        </>\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (store: ReduxStoreType) => {\r\n    return {\r\n        users: store.usersPage.users,\r\n        pageSize: store.usersPage.pageSize,\r\n        totalUsersCount: store.usersPage.totalUsersCount,\r\n        currentPage: store.usersPage.currentPage,\r\n        isFetching: store.usersPage.isFetching,\r\n        followingInProgress: store.usersPage.followingInProgress\r\n    }\r\n\r\n}\r\n\r\n// const mapDispatchToProps = (dispatch: (action: FollowActionType | UnfollowActionType| SetUsersActionType | SetCurrentPageActionType| SetTotalCountActionType|ToggleIsFetchingActionType) => void) => {\r\n//     return {\r\n//         follow: (userId: string) => dispatch(follow(userId)),\r\n//         setUsers: (users: Array<UsersFromApiType>) => dispatch(setUsers(users)),\r\n//         unfollow: (userId: string) => dispatch(unfollow(userId)),\r\n//         setCurrentPage: (pageNumber: number) => dispatch(setCurrentPage(pageNumber)),\r\n//         setTotalUsersCount: (totalCount: number) => dispatch(setTotalUsersCount(totalCount)),\r\n//         toggleIsFetching: (ifFetching: boolean) => dispatch(toggleIsFetching(ifFetching))\r\n//     }\r\n// }\r\n\r\n\r\nexport default connect(mapStateToProps,\r\n    {followUser, unFollowUser, toggleIsFollowingInProgress, setCurrentPage, getUsers})(UsersContainerComponent);","import React from \"react\";\r\nimport style from './ProfileInfo.module.css';\r\nimport { UserProfileType } from \"../ProfileContainer\";\r\nimport Preloader from \"../../common/Preloader\";\r\n\r\n\r\n\r\ntype ProfileInfoType = {\r\n    profile:  UserProfileType | null\r\n}\r\n\r\nconst ProfileInfo = (props:ProfileInfoType) => {\r\n\r\n    if(!props.profile) {\r\n        return <Preloader/>\r\n    }\r\n\r\n    return (\r\n        <div >\r\n            <div>\r\n                <img className={style.img}\r\n                     src='https://www.metoffice.gov.uk/binaries/content/gallery/metofficegovuk/hero-images/advice/maps-satellite-images/satellite-image-of-globe.jpg'/>\r\n            </div>\r\n            <div className={style.profile}>\r\n                <img\r\n                     src={props.profile?.photos.large}/>\r\n                <div>\r\n                    About Me: {props.profile?.aboutMe}\r\n                </div>\r\n                <div>\r\n                    My full name: {props.profile?.fullName}\r\n                </div>\r\n                <div>\r\n                    My facebook: {props.profile?.contacts.facebook}<br/>\r\n                    My instagram: {props.profile?.contacts.instagram}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ProfileInfo;","import {PostType} from \"../components/Profile/MyPosts/Post/Post\";\r\nimport {ProfilePageType} from \"./state\";\r\nimport {SendMessageActionType, UpdateNewMessageBodyType} from \"./dialogs-reducer\";\r\nimport {UserProfileType} from \"../components/Profile/ProfileContainer\";\r\nimport {usersAPI} from \"../api/api\";\r\n\r\n\r\nexport type AddPostActionType = {\r\n    type: \"ADD-POST\"\r\n}\r\nexport type UpdateNewPostActionType = {\r\n    type: \"UPDATE-NEW-POST-TEXT\"\r\n    newText: string\r\n}\r\nexport type SetUserProfileType = {\r\n    type: \"SET-USER-PROFILE\"\r\n    userProfile: UserProfileType\r\n}\r\n\r\nconst ADD_POST = 'ADD-POST';\r\nconst UPDATE_NEW_POST_TEXT = \"UPDATE-NEW-POST-TEXT\";\r\nconst SET_USER_PROFILE = \"SET-USER-PROFILE\";\r\n\r\nexport const addPostActionCreator = (): AddPostActionType => {\r\n    return {\r\n        type: ADD_POST\r\n    }\r\n}\r\nexport const updateNewPostTextActionCreator = (text: string): UpdateNewPostActionType => {\r\n    return {\r\n        type: UPDATE_NEW_POST_TEXT,\r\n        newText: text,\r\n    }\r\n}\r\nexport const setUserProfile = (userProfile: UserProfileType): SetUserProfileType => {\r\n    return {\r\n        type: SET_USER_PROFILE,\r\n        userProfile\r\n    }\r\n}\r\n\r\nexport const setMyUserProfile = (userID: string)=> (dispatch: (action: ActionsType) => void) => {\r\n    usersAPI.setUser(userID).then(data => {\r\n        dispatch(setUserProfile(data));\r\n    })\r\n}\r\n\r\n\r\n\r\ntype ActionsType = AddPostActionType\r\n    | UpdateNewPostActionType\r\n    | UpdateNewMessageBodyType\r\n    | SendMessageActionType\r\n    | SetUserProfileType\r\n\r\nlet initialState: ProfilePageType =  {\r\n    posts: [\r\n        {id: 1, message: 'Hi? how are you', likesCount: 12},\r\n        {id: 2, message: 'It is my first post', likesCount: 11},\r\n        {id: 3, message: 'It is my second post', likesCount: 15},\r\n    ],\r\n    messageForNewPost: 'Hello from state',\r\n    userProfile: null\r\n}\r\n\r\nconst profileReducer =\r\n    (state = initialState,\r\n     action: ActionsType) => {\r\n\r\n        switch (action.type) {\r\n            case ADD_POST:\r\n                let newPost: PostType = {\r\n                    id: 5,\r\n                    message: state.messageForNewPost,\r\n                    likesCount: 0,\r\n                };\r\n\r\n                return {\r\n                    ...state,\r\n                    posts: [...state.posts,newPost],\r\n                    messageForNewPost: \"\",\r\n                };\r\n\r\n            case UPDATE_NEW_POST_TEXT:\r\n                return {\r\n                    ...state,\r\n                    messageForNewPost: action.newText,\r\n                };\r\n            case \"SET-USER-PROFILE\":\r\n                return {...state, userProfile: action.userProfile }\r\n            default:\r\n                return state\r\n        }\r\n    }\r\nexport default profileReducer;","import React from \"react\";\r\nimport style from './Post.module.css';\r\n\r\n\r\nexport type PostType = {\r\n    id: number,\r\n    message: string,\r\n    likesCount: number\r\n}\r\n\r\n\r\nconst Post = (props: PostType) => {\r\n    return (\r\n        <div className={style.item}>\r\n            <img src='https://static8.depositphotos.com/1207999/1027/i/450/depositphotos_10275824-stock-photo-business-man-avatar-in-suit.jpg' />\r\n            {props.message}\r\n            <div>\r\n                {`like ${props.likesCount}`}\r\n            </div>\r\n\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\nexport default Post;","import React, {useRef} from \"react\";\r\nimport style from './MyPosts.module.css';\r\nimport Post, {PostType} from \"./Post/Post\";\r\n\r\nexport type MyPostsType = {\r\n    posts: Array<PostType>\r\n    messageForNewPost: string\r\n    addPost: () => void\r\n    onChangeText: (text: string) => void\r\n}\r\n\r\nconst MyPosts = (props: MyPostsType) => {\r\n    console.log(props)\r\n    let postsElements =\r\n        props.posts.map(p => {\r\n            return <Post id={p.id} message={p.message} likesCount={p.likesCount}/>\r\n        })\r\n\r\n    const newPostElement = useRef<HTMLTextAreaElement>(null)\r\n\r\n    let addPost = () => {\r\n        props.addPost();\r\n    }\r\n\r\n    const onChangeText = () => {\r\n        if (newPostElement.current) {\r\n            let text = newPostElement.current.value;\r\n            props.onChangeText(text);\r\n        }\r\n    }\r\n\r\n    return (\r\n\r\n        <div className={style.postsBlock}>\r\n            <h3>My posts</h3>\r\n            <div>\r\n                <div>\r\n                    <textarea ref={newPostElement} value={props.messageForNewPost} onChange={onChangeText}/>\r\n                </div>\r\n                <div>\r\n                    <button onClick={addPost}>Add post</button>\r\n                </div>\r\n\r\n            </div>\r\n            <div className={style.posts}>\r\n                {postsElements}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default MyPosts;","import React from \"react\";\r\nimport {\r\n    addPostActionCreator,\r\n    AddPostActionType,\r\n    UpdateNewPostActionType,\r\n    updateNewPostTextActionCreator\r\n} from \"../../../redux/profile-reducer\";\r\nimport MyPosts from \"./MyPosts\";\r\nimport {connect} from \"react-redux\";\r\nimport {ProfilePageType} from \"../../../redux/state\";\r\nimport {ReduxStoreType} from \"../../../redux/redux-store\";\r\n\r\ntype MyPostsContainerType = {\r\n    profilePage:  ProfilePageType\r\n    dispatch: (action: AddPostActionType | UpdateNewPostActionType) => void\r\n}\r\n\r\nconst mapStateToProps = (store: ReduxStoreType) => {\r\n    return {\r\n        posts: store.profilePage.posts,\r\n        messageForNewPost: store.profilePage.messageForNewPost\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch: (action:  AddPostActionType | UpdateNewPostActionType) => void) => {\r\n    return {\r\n        addPost: () => dispatch(addPostActionCreator()),\r\n        onChangeText: (text: string) => dispatch(updateNewPostTextActionCreator(text))\r\n    }\r\n}\r\n\r\nconst MyPostsContainer = connect(mapStateToProps,mapDispatchToProps)(MyPosts)\r\n\r\nexport default MyPostsContainer;","import React from \"react\";\r\nimport ProfileInfo from \"./ProfileInfo/ProfileInfo\";\r\nimport MyPostsContainer from \"./MyPosts/MyPostsContainer\";\r\nimport {UserProfilePageType} from \"./ProfileContainer\";\r\n\r\n\r\nconst Profile = (props: UserProfilePageType) => {\r\n\r\n    return (\r\n        <div>\r\n            <ProfileInfo profile = {props.userProfile}/>\r\n            <MyPostsContainer />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Profile;","import React from \"react\";\r\nimport Profile from \"./Profile\";\r\nimport {connect} from \"react-redux\";\r\nimport {ReduxStoreType} from \"../../redux/redux-store\";\r\nimport {UsersPhotoApiType} from \"../Users/UsersContainer\";\r\nimport {setMyUserProfile} from \"../../redux/profile-reducer\";\r\nimport {RouteComponentProps, withRouter, Redirect} from \"react-router-dom\";\r\n\r\nexport type UserProfileContactsType = {\r\n    facebook:\tstring | null\r\n    website:\tstring | null\r\n    vk:\t        string | null\r\n    twitter:\tstring | null\r\n    instagram:\tstring | null\r\n    youtube:\tstring | null\r\n    github:\t    string | null\r\n    mainLink:\tstring | null\r\n}\r\nexport type UserProfileType = {\r\n    aboutMe: string\r\n    contacts: UserProfileContactsType\r\n    fullName: string\r\n    lookingForAJob: boolean\r\n    lookingForAJobDescription: string\r\n    photos: UsersPhotoApiType\r\n    userId: number\r\n}\r\n\r\nexport type UserProfilePageType = {\r\n    userProfile: UserProfileType | null\r\n    isAuth: boolean\r\n    setMyUserProfile: (userID: string) => void\r\n}\r\nclass ProfileContainer extends React.Component<PropsType> {\r\n\r\n    componentDidMount() {\r\n        let userID = this.props.match.params.userID;\r\n        if (!userID) {\r\n            userID = '2';\r\n        }\r\n        this.props.setMyUserProfile(userID)\r\n    }\r\n\r\n    render(){\r\n        if(!this.props.isAuth){\r\n            return <Redirect to = {'/login'} />\r\n        }\r\n        return (\r\n            <Profile {...this.props} />\r\n        )\r\n    }\r\n\r\n}\r\n\r\nlet mapStateToProps = (store: ReduxStoreType) => ({\r\n    userProfile: store.profilePage.userProfile,\r\n    isAuth: store.auth.isAuth\r\n})\r\n\r\ntype PathParamsType = {\r\n    userID: string,\r\n}\r\n\r\ntype PropsType = RouteComponentProps<PathParamsType> & UserProfilePageType\r\n\r\nlet WithUrlDataContainerComponent = withRouter(ProfileContainer)\r\n\r\nexport default connect(mapStateToProps, {setMyUserProfile})(WithUrlDataContainerComponent);","import React from 'react';\r\nimport style from './Header.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\n\r\ntype HeaderType = {\r\n    isAuth: boolean\r\n    login: string | null\r\n    setAuthenticationUserData: () => void\r\n}\r\n\r\nconst Header = (props: HeaderType) => {\r\n\r\n    return (\r\n        <header className={style.header}>\r\n            <img src='https://autodoktor.com.ua/wp-content/uploads/Logo/Total-logo-earth-1024x768.png'/>\r\n            <div className={style.loginBlock}>\r\n                {props.isAuth ? props.login : <NavLink onClick={()=> props.setAuthenticationUserData()} to={'/login'} >Login</NavLink>}\r\n                {console.log(props.isAuth)}\r\n            </div>\r\n        </header>\r\n    )\r\n}\r\n\r\n\r\nexport default Header;","import {usersAPI} from \"../api/api\";\r\n\r\nconst SET_USER_DATA = 'SET_USER_DATA';\r\nconst UNFOLLOW = \"UNFOLLOW\";\r\n\r\n\r\nexport type SetUserDataActionType = {\r\n    type: 'SET_USER_DATA'\r\n    data: {userId: number, email: string, login: string}\r\n}\r\n\r\n\r\nexport const setAuthUserData = (userId: number, email: string, login: string): SetUserDataActionType => {\r\n    return {\r\n        type: SET_USER_DATA,\r\n        data: {userId, email, login }\r\n    }\r\n}\r\n\r\nexport const setAuthenticationUserData = () => (dispatch: (action: SetUserDataActionType) => void) => {\r\n    usersAPI.auth()\r\n        .then(data => {\r\n            if(data.resultCode === 0){\r\n                let {id, login, email} = data.data\r\n                dispatch(setAuthUserData(id, email, login));\r\n            }\r\n        })\r\n}\r\n\r\nexport type AuthType = {\r\n    userId: number|null,\r\n    email: string|null,\r\n    login: string|null,\r\n    isAuth: boolean\r\n}\r\n\r\nlet initialState: AuthType = {\r\n    userId: null,\r\n    email: null,\r\n    login: null,\r\n    isAuth: false\r\n\r\n}\r\n\r\nconst authReducer =\r\n    (state = initialState, action: SetUserDataActionType) => {\r\n        switch (action.type) {\r\n            case SET_USER_DATA:\r\n                return {\r\n                    ...state,\r\n                    ...action.data,\r\n                    isAuth: true\r\n                }\r\n                \r\n\r\n            default:\r\n                return state\r\n        }\r\n    }\r\nexport default authReducer;","import React from 'react';\r\nimport Header from \"./Header\";\r\nimport {connect} from 'react-redux';\r\nimport {ReduxStoreType} from \"../../redux/redux-store\";\r\nimport {setAuthenticationUserData} from \"../../redux/auth-reducer\";\r\n\r\n\r\ntype HeaderContainerType = {\r\n    isAuth: boolean\r\n    login: string|null\r\n    setAuthenticationUserData: () => void\r\n}\r\n\r\nclass HeaderContainer extends React.Component<HeaderContainerType> {\r\n\r\n    componentDidMount() {\r\n        setAuthenticationUserData();\r\n    }\r\n\r\n\r\n    render(){\r\n        return <Header {...this.props}/>\r\n    }\r\n\r\n}\r\nconst mapStateToProps = (state: ReduxStoreType) => ({\r\n        isAuth: state.auth.isAuth,\r\n        login:  state.auth.login\r\n})\r\nexport default connect(mapStateToProps, {setAuthenticationUserData})(HeaderContainer);","import React from 'react'\r\n\r\n\r\n\r\n\r\nconst Login = () => {\r\n    return <h1>Login</h1>\r\n}\r\n\r\n\r\nexport default Login;","import React from \"react\";\r\nimport \"./App.css\";\r\nimport Header from \"./components/Header/Header\";\r\nimport NavBar from \"./components/NavBar/NavBar\";\r\nimport { BrowserRouter, Route } from \"react-router-dom\";\r\nimport DialogsContainer from \"./components/Dialogs/DialogsContainer\";\r\nimport UsersContainer from \"./components/Users/UsersContainer\";\r\nimport ProfileContainer from \"./components/Profile/ProfileContainer\";\r\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\r\nimport Login from \"./components/Login/Login\";\r\n\r\nconst App = () => {\r\n  return (\r\n    <BrowserRouter>\r\n      <div className=\"app-wrapper\">\r\n        <HeaderContainer />\r\n        <NavBar />\r\n        <div className=\"app-wrapper-content\">\r\n          {/*<Route path='/profile' component={Profile}/>*/}\r\n          {/*<Route path='/news' component={News}/>*/}\r\n          {/*<Route path='/music' component={Music}/>*/}\r\n          {/*<Route path='/settings' component={Settings}/>*/}\r\n          <Route path=\"/dialogs\" render={() => <DialogsContainer />} />\r\n          <Route path=\"/profile/:userID?\" render={() => <ProfileContainer />} />\r\n          <Route path=\"/users\" render={() => <UsersContainer />} />\r\n          <Route path=\"/login\" render={() => <Login />} />\r\n\r\n        </div>\r\n      </div>\r\n    </BrowserRouter>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import {applyMiddleware, combineReducers, createStore} from \"redux\";\r\nimport profileReducer from \"./profile-reducer\";\r\nimport dialogsReducer from \"./dialogs-reducer\";\r\nimport usersReducer from \"./users-reducer\";\r\nimport authReducer from \"./auth-reducer\";\r\nimport thunkMiddleware from 'redux-thunk'\r\n\r\n\r\nlet reducers = combineReducers({\r\n    profilePage: profileReducer,\r\n    dialogPage: dialogsReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer\r\n})\r\n\r\nexport type ReduxStoreType = ReturnType<typeof reducers>\r\n\r\nexport let store = createStore(reducers, applyMiddleware(thunkMiddleware));\r\n","import React from 'react';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App\";\r\nimport {Provider} from \"react-redux\";\r\nimport {store} from \"./redux/redux-store\";\r\n\r\nexport const rerenderEntireTree = () => {\r\n    ReactDOM.render(\r\n        <React.StrictMode>\r\n            <Provider store = {store}>\r\n                <App />\r\n            </Provider>\r\n        </React.StrictMode>,\r\n        document.getElementById('root')\r\n    );\r\n}\r\n\r\nrerenderEntireTree();\r\nstore.subscribe(rerenderEntireTree);\r\n\r\nserviceWorker.unregister();\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n"],"sourceRoot":""}